---
title: CSAPP 第三章 程序的机器级表示
tags: CSAPP
categories: CSAPP
---

## 数据格式

我们采取 Intel 的标准，字（word）用来表示 16 位数据类型，因此 32 位也被称为 双字（double word），64 位被称为 四字（quad word）

|C声明|Intel 数据类型 |汇编代码后缀 | 大小（字节）|
|:---:|:--:|:--:|:--:|
|char|字节|b|1|
|short|字|w|2|
|int|双字|l|4|
|long|四字|q|8|
|char*|四字|q|8|
|float|单精度|s|4|
|double|双精度|l|8|

汇编指令都会有一个字符后缀，用来表示数据的大小。例如：movb（传送字节）、movw（传送字）、movl（传送双字）、movq（传送四字）

后缀 l 用来表示双字，这是因为 32 位数也被看成 长字（long word）

我们观察上表可以得出，后缀 l 同时表示了双字和双精度，但这并不会起冲突，因为浮点数的运算是一套完全不同的指令和寄存器

这里我们可以看出，所有的操作数都以一个统一的格式给出，每一种类型都对应一个后缀，这一点也为后续的数据传送提供了便利



## 访问信息

一个 x86-64 的中央处理单元（CPU）包含一组 16 个存储 64 位值的通用目的寄存器，这些寄存器用来存储整数数据和指针。具体名称和功能去看原书 120 页



### 操作数指示符

大多数指令有一个或者多个操作数，操作数是指一个操作当中需要使用的**源数据值**和放置结果的**目的地址**

源数据值可以以常数的形式给出，也可以通过访问寄存器或内存来读取。目的地址可以是寄存器也可以是内存。因此，操作数可以被划分为三种类型：

* 立即数（immediate），用来**直接给出常数值**
* 寄存器，通过访问某个寄存器得到其内容，当然是允许间接访问的
* 内存引用，会根据计算出来的地址来访问某个特定的内存，也允许间接访问

具体的访问操作看原书 121 页，这个地方不难，把后面的练习做一下就能搞明白

